
<head><!-- Include Plotly.js --><script src="https://cdn.plot.ly/plotly-latest.min.js"></script></head>

<body>
    <div id="pie-chart"></div>
    <script>
        function updatePieChart() {
          // Make a request to the Flask route to get the data
          fetch('/sg_data')
            .then(response => response.json())
            .then(data => {
              // Create the pie chart using Plotly.js
              var trace1 = {
                values: [data.sg_create_count, data.sg_delete_count, data.sg_modify_count],
                labels: ['SG Create', 'SG Deleted', 'SG Modified'],
                type: 'pie'
              };
              var layout = {
                title: 'SG Data',
                height: 400
              };
              var data = [trace1];
              Plotly.newPlot('pie-chart', data, layout);
            });
        }
        
        // Call the updatePieChart function every 30 seconds
        setInterval(updatePieChart, 30000);
    </script>
</body>
{% endblock %}



